1
00:00:00,004 --> 00:00:00,120
3. Appel Brique Réutilisable pour lancer URl ANEF pour Agent

2
00:00:00,133 --> 00:00:00,135
5. RunConfiguration: getProjectDir for LogDriver 

3
00:00:00,137 --> 00:00:00,139
11. RunConfiguration: getExecutionProperties Driver 

4
00:00:00,141 --> 00:00:00,142
15. DriverName = get("WebUI").get("browserType")

5
00:00:00,144 --> 00:00:00,146
19. println("DriverName :" + DriverName)

6
00:00:00,148 --> 00:00:00,152
23. println("Driverpath :" + RunBrowserConfiguration.get("drivers"))

7
00:00:00,153 --> 00:00:00,155
27. if (Profiles == "Usager")

8
00:00:00,156 --> 00:00:00,158
31. if (Profiles == "Agent")

9
00:00:00,161 --> 00:00:00,163
1. if (EnvExec == "URLPortailAgentQualif")

10
00:00:00,165 --> 00:00:00,167
5. if (EnvExec == "URLPortailAgentPreProd")

11
00:00:00,170 --> 00:00:05,290
1. openBrowser(URLPortailAgentPreProd)

12
00:00:05,293 --> 00:00:05,410
9. maximizeWindow()

13
00:00:05,412 --> 00:00:05,541
9. Appel Brique Réutilisable pour Identification Agent

14
00:00:05,544 --> 00:00:05,557
1. com.kazurayam.ksbackyard.HighlightElement.pandemic()

15
00:00:05,559 --> 00:00:05,562
5. if (Profiles == "Usager")

16
00:00:05,568 --> 00:00:05,570
11. Identification : Portail Agent

17
00:00:05,573 --> 00:00:05,575
1. if (EnvExec == "URLPortailAgentQualif")

18
00:00:05,577 --> 00:00:05,580
5. if (EnvExec == "URLPortailAgentPreProd")

19
00:00:05,583 --> 00:00:07,999
1. setText(findTestObject("Object Repository/A_Version_Nawres/Page_ANEF_Connexion/Input_UserNameAgent"), IdentifiantAgent)

20
00:00:08,005 --> 00:00:10,271
5. setText(findTestObject("Object Repository/A_Version_Nawres/Page_ANEF_Connexion/Input_PasswordAgent"), PwAgent)

21
00:00:10,273 --> 00:00:11,466
9. click(findTestObject("Object Repository/A_Version_Nawres/Page_ANEF_Connexion/btn_Valider_Conx_Agent"))

22
00:00:11,470 --> 00:00:16,492
15. delay(5)

23
00:00:16,495 --> 00:00:16,525
19. verifyElementPresent(findTestObject("Object Repository/A_Version_Nawres/Page_Accueil_Principale/btn_ANEF_Eloignement"), 1, STOP_ON_FAILURE)

24
00:00:16,527 --> 00:00:16,622
15. Appel Brique Réutilisable pour Creation ou Recherche de dossier avec un numero etranger 

25
00:00:16,623 --> 00:00:19,157
3. Accèder à la page d'accueil  ANEF eloignement

26
00:00:19,159 --> 00:00:19,705
9. Vérifier la position de la page d'accueil eloignement

27
00:00:19,708 --> 00:00:24,720
13. delay(5)

28
00:00:24,722 --> 00:00:24,724
19. Choisir la methode de Creation d'un nouveau dossier pour un numero etranger inexistant

29
00:00:24,726 --> 00:00:25,956
1. click(findTestObject("Object Repository/A_Version_Nawres/Page_Creation_ou_Recherche_Dossier/btn_Rechercher_Dossier"))

30
00:00:25,959 --> 00:00:25,961
5. NumberUsagerRandom = tools.MyStringTools.getRandomNumber(100000000, 9999999999)

31
00:00:25,963 --> 00:00:25,964
9. println(NumberUsagerRandom)

32
00:00:25,965 --> 00:00:25,966
13. NumberUsager = NumberUsagerRandom.toString()

33
00:00:25,968 --> 00:00:28,298
17. setText(findTestObject("Object Repository/A_Version_Nawres/Page_Creation_ou_Recherche_Dossier/Input_Numero_etranger"), NumberUsager, STOP_ON_FAILURE)

34
00:00:28,302 --> 00:00:29,484
21. click(findTestObject("Object Repository/A_Version_Nawres/Page_Creation_ou_Recherche_Dossier/Input_Numero_etranger"), STOP_ON_FAILURE)

35
00:00:29,490 --> 00:00:29,557
25. scrollToElement(findTestObject("Object Repository/A_Version_Nawres/Page_Creation_ou_Recherche_Dossier/btn_Lancer_La_Recherche"), 5, STOP_ON_FAILURE)

36
00:00:29,560 --> 00:00:30,751
29. click(findTestObject("Object Repository/A_Version_Nawres/Page_Creation_ou_Recherche_Dossier/btn_Lancer_La_Recherche"), STOP_ON_FAILURE)

37
00:00:30,754 --> 00:00:40,774
33. delay(10)

38
00:00:40,778 --> 00:00:40,850
37. scrollToElement(findTestObject("Object Repository/A_Version_Nawres/Page_Creation_ou_Recherche_Dossier/btn_Aucune_Correspondance"), 5, STOP_ON_FAILURE)

39
00:00:40,852 --> 00:00:42,071
41. click(findTestObject("Object Repository/A_Version_Nawres/Page_Creation_ou_Recherche_Dossier/btn_Aucune_Correspondance"), STOP_ON_FAILURE)

40
00:00:42,074 --> 00:00:43,557
45. click(findTestObject("Object Repository/A_Version_Nawres/Page_Creation_ou_Recherche_Dossier/btn_Creer_Un_Dossier_Etranger"), STOP_ON_FAILURE)

41
00:00:43,561 --> 00:00:53,580
49. delay(10)

42
00:00:53,583 --> 00:00:53,588
19. if (CreationOuRecherche == "Creation")

43
00:00:53,593 --> 00:00:54,730
3. Appel Brique Réutilisable pour Creation ou Recherche de dossier avec un numero etranger 

44
00:00:54,734 --> 00:00:54,789
5. Vérification des correspondances entres les accordéons dans la page et le menu à gauche

45
00:00:54,793 --> 00:00:54,840
9. verifyElementPresent(findTestObject("Object Repository/A_Version_Nawres/Page_Formulaire_Creation_Dossier/Formulaire_Creation_Dossier_Accordeon/lbl_Numero_Etranger"), 1, STOP_ON_FAILURE)

46
00:00:54,843 --> 00:00:54,893
13. verifyElementPresent(findTestObject("Object Repository/A_Version_Nawres/Page_Formulaire_Creation_Dossier/Formulaire_Creation_Dossier_Accordeon/lbl_Prefecture_Gestionnaire"), 1, STOP_ON_FAILURE)

47
00:00:54,898 --> 00:00:54,944
17. verifyElementPresent(findTestObject("Object Repository/A_Version_Nawres/Page_Formulaire_Creation_Dossier/Formulaire_Creation_Dossier_Accordeon/lbl_Derniere_Modification"), 1, STOP_ON_FAILURE)

48
00:00:54,948 --> 00:00:54,996
23. Accordeon Reference Dossier

49
00:00:55,000 --> 00:00:55,048
27. verifyElementPresent(findTestObject("Object Repository/A_Version_Nawres/Page_Formulaire_Creation_Dossier/Formulaire_Creation_Dossier_Menu/Menu_Reference_Du_Dossier"), 1, STOP_ON_FAILURE)

50
00:00:55,053 --> 00:00:55,095
31. verifyElementPresent(findTestObject("Object Repository/A_Version_Nawres/Page_Formulaire_Creation_Dossier/Formulaire_Creation_Dossier_Input/input_Numero_De_Dossier_FPR"), 1, STOP_ON_FAILURE)

51
00:00:55,099 --> 00:00:55,156
35. verifyElementPresent(findTestObject("Object Repository/A_Version_Nawres/Page_Formulaire_Creation_Dossier/Formulaire_Creation_Dossier_Input/input_Numero_Dossier_Interne"), 1, STOP_ON_FAILURE)

52
00:00:55,160 --> 00:00:55,215
41. Accordeon Etat Civil 

53
00:00:55,220 --> 00:00:55,288
45. verifyElementPresent(findTestObject("Object Repository/A_Version_Nawres/Page_Formulaire_Creation_Dossier/Formulaire_Creation_Dossier_Menu/Menu_Fiche_Etat_Civil"), 1, STOP_ON_FAILURE)

54
00:00:55,292 --> 00:00:55,348
51. Accordeon Biometrie 

55
00:00:55,354 --> 00:00:55,401
57. Accordeon Conditions d'entrée en France 

56
00:00:55,405 --> 00:00:55,449
61. verifyElementPresent(findTestObject("Object Repository/A_Version_Nawres/Page_Formulaire_Creation_Dossier/Formulaire_Creation_Dossier_Accordeon/Acc_ Conditions_D_Entree_En_France"), 1, STOP_ON_FAILURE)

57
00:00:55,454 --> 00:00:55,502
67. Accordeon Antécédents administratifs

58
00:00:55,506 --> 00:00:55,563
73. Accordeon Document De Voyage 

59
00:00:55,567 --> 00:00:55,615
77. verifyElementPresent(findTestObject("Object Repository/A_Version_Nawres/Page_Formulaire_Creation_Dossier/Formulaire_Creation_Dossier_Menu/Menu_Documents_De_Voyage"), 1, STOP_ON_FAILURE)

60
00:00:55,620 --> 00:00:55,668
83. Accordeon Sortant d'établissement pénitentiaire 

61
00:00:55,672 --> 00:00:55,719
87. verifyElementPresent(findTestObject("Object Repository/A_Version_Nawres/Page_Formulaire_Creation_Dossier/Formulaire_Creation_Dossier_Menu/Menu_Sortant_D_Etablissement_Penitentiaire"), 1, STOP_ON_FAILURE)

62
00:00:55,723 --> 00:00:55,769
93. Accordeon Consultations sécuritaires

63
00:00:55,773 --> 00:00:55,899
101. Generer un nom aleatoire

64
00:00:55,904 --> 00:00:55,908
105. println(RandomNom)

65
00:00:55,912 --> 00:00:58,253
111. Renseigner Le Nom

66
00:00:58,256 --> 00:00:58,257
117. Renseigner Le Sexe (M/F)

67
00:00:58,261 --> 00:00:58,263
121. if (Sexe == "Homme")

68
00:00:58,266 --> 00:00:59,509
1. click(findTestObject("Object Repository/A_Version_Nawres/Page_Formulaire_Creation_Dossier/Formulaire_Creation_Dossier_Input/btn_radio_Sexe_M"), STOP_ON_FAILURE)

69
00:00:59,512 --> 00:01:00,743
127. Cocher la case date de naissance approximative

70
00:01:00,747 --> 00:01:03,054
133. Renseigner l'Année de Naissance (Majeur/Mineur)

71
00:01:03,057 --> 00:01:03,059
139. Renseigner Le Pays De Naissance  (RPT/RUE) 

72
00:01:03,062 --> 00:01:04,287
1. selectOptionByLabel(findTestObject("Object Repository/A_Version_Nawres/Page_Formulaire_Creation_Dossier/Formulaire_Creation_Dossier_Input/select_Pays_De_Naissance"), "ALGERIE", false, STOP_ON_FAILURE)

73
00:01:04,291 --> 00:01:04,293
143. if (Nationnalite == "RUE")

74
00:01:04,297 --> 00:01:04,300
149. Renseigner la Nationalité 

75
00:01:04,304 --> 00:01:05,490
1. selectOptionByLabel(findTestObject("Object Repository/A_Version_Nawres/Page_Formulaire_Creation_Dossier/Formulaire_Creation_Dossier_Input/select_Nationnalite"), "algérienne", false, STOP_ON_FAILURE)

76
00:01:05,493 --> 00:01:05,496
153. if (Nationnalite == "RUE")

77
00:01:05,500 --> 00:01:05,502
159. Renseigner Le Lieu de Naissance pour (RPT/RUE) 

78
00:01:05,507 --> 00:01:07,846
1. setText(findTestObject("Object Repository/A_Version_Nawres/Page_Formulaire_Creation_Dossier/Formulaire_Creation_Dossier_Input/input_Lieu_De_Naissance"), "Wahran", STOP_ON_FAILURE)

79
00:01:07,849 --> 00:01:07,853
163. if (Nationnalite == "RUE")

80
00:01:07,856 --> 00:01:09,038
169. Renseigner la Situation Familiale

81
00:01:09,041 --> 00:01:11,344
175. Renseigner Condition d entrée en France

82
00:01:11,349 --> 00:01:12,529
179. selectOptionByLabel(findTestObject("Object Repository/A_Version_Nawres/Page_Formulaire_Creation_Dossier/Formulaire_Creation_Dossier_Input/select_Condition_Entree_En_France"), "Irrégulière", false, STOP_ON_FAILURE)

83
00:01:12,533 --> 00:01:12,537
183. if (ControleChampsCreation == "true")

84
00:01:12,540 --> 00:01:13,739
189. Validation Creation de dossier

85
00:01:13,741 --> 00:01:14,258
195. Verification de l'affichage et click sur le bouton Valider et attribuer un numero Etranger

86
00:01:14,260 --> 00:01:15,433
199. click(findTestObject("Object Repository/A_Version_Nawres/Page_Formulaire_Creation_Dossier/Formulaire_Creation_Dossier_Input/btn_Valider_Attribuer_Numero_Etranger"), STOP_ON_FAILURE)

87
00:01:15,437 --> 00:01:15,442
203. switch (OrigineDossier)

88
00:01:15,449 --> 00:01:15,668
4.  l Origine du Dossier est Interpellation 

89
00:01:15,675 --> 00:01:15,680
8. break

90
00:01:15,685 --> 00:01:15,776
209. Cliquer sur le bouton Attribuer Numero Etranger

91
00:01:15,780 --> 00:01:16,993
215. Cliquer sur le bouton Confirmer et Attribuer Numero Etranger

92
00:01:16,999 --> 00:01:17,146
221. Stocker la valeur Numero Etranger attribué 

93
00:01:17,152 --> 00:01:17,159
225. NumeroEtranger = NumeroEtrangerGenere

94
00:01:17,166 --> 00:01:17,169
229. println(NumeroEtrangerGenere)

95
00:01:17,175 --> 00:01:17,185
233. println(NumeroEtranger)

96
00:01:17,192 --> 00:01:17,198
23. println(NumeroEtranger)

97
00:01:17,202 --> 00:01:18,310
29. Appel Brique Réutilisable pour Prendre une Mesure selon les Choix : OQTF , Expulsion ,IAT ,ITF ,ExecutionFicheSIS, RemiseSchengen, TransfertDublin

98
00:01:18,314 --> 00:01:19,559
1. click(findTestObject("Object Repository/A_Version_Nawres/Page_Prendre_Mesure/btn_Prendre_Mesure"), STOP_ON_FAILURE)

99
00:01:19,562 --> 00:01:19,566
5. switch (Mesure)

100
00:01:19,569 --> 00:01:20,789
4.  Prendre Une Mesure OQTF  

101
00:01:20,792 --> 00:01:21,997
10. Cliquer sur le bourron Confirmer Mesure

102
00:01:22,002 --> 00:01:24,347
14. verifyElementPresent(findTestObject("Object Repository/A_Version_Nawres/Page_Prendre_Mesure/btn_Supprimer_Fiche_Mesure"), 2, STOP_ON_FAILURE)

103
00:01:24,351 --> 00:01:24,354
18. break

104
00:01:24,358 --> 00:01:26,351
9. callTestCase(findTestCase("Test Cases/Test Reutilisable/Main/AVersion_Nawres/ANEF_Prendre_Mesure_Formulaire_1"), ["Mesure":Mesure, "FondementLegal":FondementLegal, "NatureDeLacteExpulsion":NatureDeLacteExpulsion, "UrgenceAbsolueExpulsion":UrgenceAbsolueExpulsion, ... ], STOP_ON_FAILURE)

105
00:01:26,356 --> 00:01:26,379
3. Generer la date du jour

106
00:01:26,382 --> 00:01:26,410
7. currentDate = calendar.getTime()

107
00:01:26,416 --> 00:01:26,471
11. sdf = new java.text.SimpleDateFormat(dd/MM/yyyy)

108
00:01:26,476 --> 00:01:26,479
15. formattedDate = sdf.format(currentDate)

109
00:01:26,483 --> 00:01:26,487
19. DateActuelle = formattedDate.toString()

110
00:01:26,492 --> 00:01:26,496
23. println(DateActuelle)

111
00:01:26,500 --> 00:01:26,503
27. if (Mesure != "ITF")

112
00:01:26,508 --> 00:01:27,705
3. Remplir le champ Fondement Legal

113
00:01:27,711 --> 00:01:27,714
7. if (Mesure == "Expulsion")

114
00:01:27,720 --> 00:01:27,733
13. Generer un numero aleatoire

115
00:01:27,738 --> 00:01:27,741
17. println(NumberUsagerRandom)

116
00:01:27,745 --> 00:01:27,748
21. RandomNumber = NumberUsagerRandom.toString()

117
00:01:27,754 --> 00:01:27,759
27. Renseigner les champs de l'accordeon Fondement Legal pour un OQTF 

118
00:01:27,764 --> 00:01:27,766
1. if (RefuserDepartVolontaireOQTF == "false")

119
00:01:27,770 --> 00:01:30,232
3. Accepter le delai depart Volontaire

120
00:01:30,238 --> 00:01:30,339
9. Vérifier que le champ Expiration Delai contient la valeur -

121
00:01:30,344 --> 00:01:31,549
13. click(findTestObject("Object Repository/A_Version_Nawres/Page_Prendre_Mesure_Formulaire_1/btn_radio_Obligation_fixee_Prefet"), STOP_ON_FAILURE)

122
00:01:31,553 --> 00:01:31,557
19. Uploader un fichier dans DDV

123
00:01:31,561 --> 00:01:31,564
23. println(filePath)

124
00:01:31,569 --> 00:01:32,706
27. uploadFile(findTestObject("Object Repository/A_Version_Nawres/Page_Prendre_Mesure_Formulaire_1/input_Fichier_DDV"), filePath)

125
00:01:32,711 --> 00:01:33,895
33. Enregistrer les modifications

126
00:01:33,898 --> 00:01:34,213
37. WebU.delay(10)

