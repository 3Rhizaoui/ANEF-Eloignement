1
00:00:00,006 --> 00:00:00,160
3. Appel Brique Réutilisable pour lancer URl ANEF pour Agent

2
00:00:00,168 --> 00:00:00,171
5. RunConfiguration: getProjectDir for LogDriver 

3
00:00:00,173 --> 00:00:00,177
11. RunConfiguration: getExecutionProperties Driver 

4
00:00:00,179 --> 00:00:00,183
15. DriverName = get("WebUI").get("browserType")

5
00:00:00,186 --> 00:00:00,188
19. println("DriverName :" + DriverName)

6
00:00:00,190 --> 00:00:00,194
23. println("Driverpath :" + RunBrowserConfiguration.get("drivers"))

7
00:00:00,205 --> 00:00:00,207
27. if (Profiles == "Usager")

8
00:00:00,210 --> 00:00:00,212
31. if (Profiles == "Agent")

9
00:00:00,215 --> 00:00:00,217
1. if (EnvExec == "URLPortailAgentQualif")

10
00:00:00,220 --> 00:00:00,222
5. if (EnvExec == "URLPortailAgentPreProd")

11
00:00:00,225 --> 00:00:05,642
1. openBrowser(URLPortailAgentPreProd)

12
00:00:05,644 --> 00:00:05,663
9. maximizeWindow()

13
00:00:05,664 --> 00:00:05,763
9. Appel Brique Réutilisable pour Identification Agent

14
00:00:05,766 --> 00:00:05,787
1. com.kazurayam.ksbackyard.HighlightElement.pandemic()

15
00:00:05,789 --> 00:00:05,792
5. if (Profiles == "Usager")

16
00:00:05,794 --> 00:00:05,797
11. Identification : Portail Agent

17
00:00:05,799 --> 00:00:05,801
1. if (EnvExec == "URLPortailAgentQualif")

18
00:00:05,802 --> 00:00:05,803
5. if (EnvExec == "URLPortailAgentPreProd")

19
00:00:05,806 --> 00:00:08,240
1. setText(findTestObject("Object Repository/A_Version_Nawres/Page_ANEF_Connexion/Input_UserNameAgent"), IdentifiantAgent)

20
00:00:08,242 --> 00:00:10,545
5. setText(findTestObject("Object Repository/A_Version_Nawres/Page_ANEF_Connexion/Input_PasswordAgent"), PwAgent)

21
00:00:10,548 --> 00:00:11,714
9. click(findTestObject("Object Repository/A_Version_Nawres/Page_ANEF_Connexion/btn_Valider_Conx_Agent"))

22
00:00:11,716 --> 00:00:16,723
15. delay(5)

23
00:00:16,726 --> 00:00:16,759
19. verifyElementPresent(findTestObject("Object Repository/A_Version_Nawres/Page_Accueil_Principale/btn_ANEF_Eloignement"), 1, STOP_ON_FAILURE)

24
00:00:16,761 --> 00:00:16,852
15. Appel Brique Réutilisable pour Creation ou Recherche de dossier avec un numero etranger 

25
00:00:16,853 --> 00:00:19,764
3. Accèder à la page d'accueil  ANEF eloignement

26
00:00:19,767 --> 00:00:19,803
9. Vérifier la position de la page d'accueil eloignement

27
00:00:19,806 --> 00:00:24,818
13. delay(5)

28
00:00:24,820 --> 00:00:24,822
19. Choisir la methode de Creation d'un nouveau dossier pour un numero etranger inexistant

29
00:00:24,824 --> 00:00:26,064
1. click(findTestObject("Object Repository/A_Version_Nawres/Page_Creation_ou_Recherche_Dossier/btn_Rechercher_Dossier"))

30
00:00:26,067 --> 00:00:26,069
5. NumberUsagerRandom = tools.MyStringTools.getRandomNumber(100000000, 9999999999)

31
00:00:26,071 --> 00:00:26,072
9. println(NumberUsagerRandom)

32
00:00:26,075 --> 00:00:26,076
13. NumberUsager = NumberUsagerRandom.toString()

33
00:00:26,078 --> 00:00:28,421
17. setText(findTestObject("Object Repository/A_Version_Nawres/Page_Creation_ou_Recherche_Dossier/Input_Numero_etranger"), NumberUsager, STOP_ON_FAILURE)

34
00:00:28,422 --> 00:00:29,588
21. click(findTestObject("Object Repository/A_Version_Nawres/Page_Creation_ou_Recherche_Dossier/Input_Numero_etranger"), STOP_ON_FAILURE)

35
00:00:29,591 --> 00:00:29,654
25. scrollToElement(findTestObject("Object Repository/A_Version_Nawres/Page_Creation_ou_Recherche_Dossier/btn_Lancer_La_Recherche"), 5, STOP_ON_FAILURE)

36
00:00:29,656 --> 00:00:30,872
29. click(findTestObject("Object Repository/A_Version_Nawres/Page_Creation_ou_Recherche_Dossier/btn_Lancer_La_Recherche"), STOP_ON_FAILURE)

37
00:00:30,874 --> 00:00:40,890
33. delay(10)

38
00:00:40,893 --> 00:00:40,940
37. scrollToElement(findTestObject("Object Repository/A_Version_Nawres/Page_Creation_ou_Recherche_Dossier/btn_Aucune_Correspondance"), 5, STOP_ON_FAILURE)

39
00:00:40,941 --> 00:00:42,128
41. click(findTestObject("Object Repository/A_Version_Nawres/Page_Creation_ou_Recherche_Dossier/btn_Aucune_Correspondance"), STOP_ON_FAILURE)

40
00:00:42,130 --> 00:00:43,631
45. click(findTestObject("Object Repository/A_Version_Nawres/Page_Creation_ou_Recherche_Dossier/btn_Creer_Un_Dossier_Etranger"), STOP_ON_FAILURE)

41
00:00:43,636 --> 00:00:53,653
49. delay(10)

42
00:00:53,655 --> 00:00:53,656
19. if (CreationOuRecherche == "Creation")

43
00:00:53,657 --> 00:00:53,754
3. Appel Brique Réutilisable pour Creation ou Recherche de dossier avec un numero etranger 

44
00:00:53,756 --> 00:00:53,793
5. Vérification des correspondances entres les accordéons dans la page et le menu à gauche

45
00:00:53,795 --> 00:00:53,822
9. verifyElementPresent(findTestObject("Object Repository/A_Version_Nawres/Page_Formulaire_Creation_Dossier/Formulaire_Creation_Dossier_Accordeon/lbl_Numero_Etranger"), 1, STOP_ON_FAILURE)

46
00:00:53,824 --> 00:00:53,853
13. verifyElementPresent(findTestObject("Object Repository/A_Version_Nawres/Page_Formulaire_Creation_Dossier/Formulaire_Creation_Dossier_Accordeon/lbl_Prefecture_Gestionnaire"), 1, STOP_ON_FAILURE)

47
00:00:53,855 --> 00:00:53,878
17. verifyElementPresent(findTestObject("Object Repository/A_Version_Nawres/Page_Formulaire_Creation_Dossier/Formulaire_Creation_Dossier_Accordeon/lbl_Derniere_Modification"), 1, STOP_ON_FAILURE)

48
00:00:53,880 --> 00:00:53,905
23. Accordeon Reference Dossier

49
00:00:53,906 --> 00:00:53,937
27. verifyElementPresent(findTestObject("Object Repository/A_Version_Nawres/Page_Formulaire_Creation_Dossier/Formulaire_Creation_Dossier_Menu/Menu_Reference_Du_Dossier"), 1, STOP_ON_FAILURE)

50
00:00:53,938 --> 00:00:53,963
31. verifyElementPresent(findTestObject("Object Repository/A_Version_Nawres/Page_Formulaire_Creation_Dossier/Formulaire_Creation_Dossier_Input/input_Numero_De_Dossier_FPR"), 1, STOP_ON_FAILURE)

51
00:00:53,964 --> 00:00:53,991
35. verifyElementPresent(findTestObject("Object Repository/A_Version_Nawres/Page_Formulaire_Creation_Dossier/Formulaire_Creation_Dossier_Input/input_Numero_Dossier_Interne"), 1, STOP_ON_FAILURE)

52
00:00:53,992 --> 00:00:54,024
41. Accordeon Etat Civil 

53
00:00:54,026 --> 00:00:54,053
45. verifyElementPresent(findTestObject("Object Repository/A_Version_Nawres/Page_Formulaire_Creation_Dossier/Formulaire_Creation_Dossier_Menu/Menu_Fiche_Etat_Civil"), 1, STOP_ON_FAILURE)

54
00:00:54,055 --> 00:00:54,082
51. Accordeon Biometrie 

55
00:00:54,084 --> 00:00:54,112
57. Accordeon Conditions d'entrée en France 

56
00:00:54,114 --> 00:00:54,135
61. verifyElementPresent(findTestObject("Object Repository/A_Version_Nawres/Page_Formulaire_Creation_Dossier/Formulaire_Creation_Dossier_Accordeon/Acc_ Conditions_D_Entree_En_France"), 1, STOP_ON_FAILURE)

57
00:00:54,137 --> 00:00:54,159
67. Accordeon Antécédents administratifs

58
00:00:54,160 --> 00:00:54,190
73. Accordeon Document De Voyage 

59
00:00:54,192 --> 00:00:54,224
77. verifyElementPresent(findTestObject("Object Repository/A_Version_Nawres/Page_Formulaire_Creation_Dossier/Formulaire_Creation_Dossier_Menu/Menu_Documents_De_Voyage"), 1, STOP_ON_FAILURE)

60
00:00:54,226 --> 00:00:54,249
83. Accordeon Sortant d'établissement pénitentiaire 

61
00:00:54,251 --> 00:00:54,278
87. verifyElementPresent(findTestObject("Object Repository/A_Version_Nawres/Page_Formulaire_Creation_Dossier/Formulaire_Creation_Dossier_Menu/Menu_Sortant_D_Etablissement_Penitentiaire"), 1, STOP_ON_FAILURE)

62
00:00:54,281 --> 00:00:54,307
93. Accordeon Consultations sécuritaires

63
00:00:54,309 --> 00:00:54,311
101. Generer un nom aleatoire

64
00:00:54,313 --> 00:00:54,314
105. println(RandomNom)

65
00:00:54,316 --> 00:00:56,666
111. Renseigner Le Nom

66
00:00:56,669 --> 00:00:56,670
117. Renseigner Le Sexe (M/F)

67
00:00:56,672 --> 00:00:57,943
1. click(findTestObject("Object Repository/A_Version_Nawres/Page_Formulaire_Creation_Dossier/Formulaire_Creation_Dossier_Input/btn_radio_Sexe_F"), STOP_ON_FAILURE)

68
00:00:57,946 --> 00:00:57,948
121. if (Sexe == "Homme")

69
00:00:57,951 --> 00:00:59,176
127. Cocher la case date de naissance approximative

70
00:00:59,179 --> 00:01:01,509
133. Renseigner l'Année de Naissance (Majeur/Mineur)

71
00:01:01,511 --> 00:01:01,512
139. Renseigner Le Pays De Naissance  (RPT/RUE) 

72
00:01:01,515 --> 00:01:02,718
1. selectOptionByLabel(findTestObject("Object Repository/A_Version_Nawres/Page_Formulaire_Creation_Dossier/Formulaire_Creation_Dossier_Input/select_Pays_De_Naissance"), "ALGERIE", false, STOP_ON_FAILURE)

73
00:01:02,721 --> 00:01:02,722
143. if (Nationnalite == "RUE")

74
00:01:02,723 --> 00:01:02,724
149. Renseigner la Nationalité 

75
00:01:02,725 --> 00:01:03,876
1. selectOptionByLabel(findTestObject("Object Repository/A_Version_Nawres/Page_Formulaire_Creation_Dossier/Formulaire_Creation_Dossier_Input/select_Nationnalite"), "algérienne", false, STOP_ON_FAILURE)

76
00:01:03,879 --> 00:01:03,879
153. if (Nationnalite == "RUE")

77
00:01:03,881 --> 00:01:03,882
159. Renseigner Le Lieu de Naissance pour (RPT/RUE) 

78
00:01:03,883 --> 00:01:06,236
1. setText(findTestObject("Object Repository/A_Version_Nawres/Page_Formulaire_Creation_Dossier/Formulaire_Creation_Dossier_Input/input_Lieu_De_Naissance"), "Wahran", STOP_ON_FAILURE)

79
00:01:06,238 --> 00:01:06,240
163. if (Nationnalite == "RUE")

80
00:01:06,243 --> 00:01:07,452
169. Renseigner la Situation Familiale

81
00:01:07,455 --> 00:01:09,736
175. Renseigner Condition d entrée en France

82
00:01:09,738 --> 00:01:10,907
179. selectOptionByLabel(findTestObject("Object Repository/A_Version_Nawres/Page_Formulaire_Creation_Dossier/Formulaire_Creation_Dossier_Input/select_Condition_Entree_En_France"), "Irrégulière", false, STOP_ON_FAILURE)

83
00:01:10,909 --> 00:01:10,911
183. if (ControleChampsCreation == "true")

84
00:01:10,913 --> 00:01:12,105
189. Validation Creation de dossier

85
00:01:12,108 --> 00:01:12,429
195. Verification de l'affichage et click sur le bouton Valider et attribuer un numero Etranger

86
00:01:12,432 --> 00:01:13,636
199. click(findTestObject("Object Repository/A_Version_Nawres/Page_Formulaire_Creation_Dossier/Formulaire_Creation_Dossier_Input/btn_Valider_Attribuer_Numero_Etranger"), STOP_ON_FAILURE)

87
00:01:13,640 --> 00:01:13,643
203. switch (OrigineDossier)

88
00:01:13,646 --> 00:01:13,851
4.  l Origine du Dossier est Interpellation 

89
00:01:13,853 --> 00:01:13,853
8. break

90
00:01:13,855 --> 00:01:13,924
209. Cliquer sur le bouton Attribuer Numero Etranger

91
00:01:13,927 --> 00:01:15,151
215. Cliquer sur le bouton Confirmer et Attribuer Numero Etranger

92
00:01:15,154 --> 00:01:15,241
221. Stocker la valeur Numero Etranger attribué 

93
00:01:15,244 --> 00:01:15,251
225. NumeroEtranger = NumeroEtrangerGenere

94
00:01:15,254 --> 00:01:15,255
229. println(NumeroEtrangerGenere)

95
00:01:15,257 --> 00:01:15,269
233. println(NumeroEtranger)

96
00:01:15,272 --> 00:01:15,275
23. println(NumeroEtranger)

97
00:01:15,280 --> 00:01:15,454
29. Appel Brique Réutilisable pour Prendre une Mesure selon les Choix : OQTF , Expulsion ,IAT ,ITF ,ExecutionFicheSIS, RemiseSchengen, TransfertDublin

98
00:01:15,458 --> 00:01:16,708
1. click(findTestObject("Object Repository/A_Version_Nawres/Page_Prendre_Mesure/btn_Prendre_Mesure"), STOP_ON_FAILURE)

99
00:01:16,712 --> 00:01:16,714
5. switch (Mesure)

100
00:01:16,718 --> 00:01:17,913
4.  Prendre Une Mesure ITF  

101
00:01:17,915 --> 00:01:19,101
10. Cliquer sur le bourron Confirmer Mesure

102
00:01:19,104 --> 00:01:19,760
14. verifyElementPresent(findTestObject("Object Repository/A_Version_Nawres/Page_Prendre_Mesure/btn_Supprimer_Fiche_Mesure"), 2, STOP_ON_FAILURE)

103
00:01:19,763 --> 00:01:19,765
18. break

104
00:01:19,769 --> 00:01:19,994
9. callTestCase(findTestCase("Test Cases/Test Reutilisable/Main/AVersion_Nawres/ANEF_Prendre_Mesure_Formulaire_1"), ["Mesure":Mesure, "FondementLegal":FondementLegal, "NatureDeLacteExpulsion":NatureDeLacteExpulsion, "UrgenceAbsolueExpulsion":UrgenceAbsolueExpulsion, ... ], STOP_ON_FAILURE)

105
00:01:19,996 --> 00:01:19,998
3. Generer la date du jour

106
00:01:20,001 --> 00:01:20,001
7. currentDate = calendar.getTime()

107
00:01:20,006 --> 00:01:20,009
11. sdf = new java.text.SimpleDateFormat(dd/MM/yyyy)

108
00:01:20,012 --> 00:01:20,012
15. formattedDate = sdf.format(currentDate)

109
00:01:20,014 --> 00:01:20,015
19. DateActuelle = formattedDate.toString()

110
00:01:20,017 --> 00:01:20,019
23. println(DateActuelle)

111
00:01:20,023 --> 00:01:20,025
27. if (Mesure != "ITF")

112
00:01:20,029 --> 00:01:20,030
31. if (Mesure == "ITF")

113
00:01:20,033 --> 00:01:20,035
1. if (NaturePeineITF == "Complementaire")

114
00:01:20,040 --> 00:01:20,042
5. if (NaturePeineITF == "Principale")

115
00:01:20,045 --> 00:01:21,278
1. click(findTestObject("Object Repository/A_Version_Nawres/Page_Prendre_Mesure_Formulaire_1/btn_Nature_Peine_Principale"), STOP_ON_FAILURE)

116
00:01:21,281 --> 00:01:21,282
9. if (DureeITF == "Temporaire")

117
00:01:21,284 --> 00:01:22,511
1. click(findTestObject("Object Repository/A_Version_Nawres/Page_Prendre_Mesure_Formulaire_1/btn_Duree_ITF_Temporaire"), STOP_ON_FAILURE)

118
00:01:22,513 --> 00:01:22,556
7. Vérifier les messages d'erreur des champs durée ITF

119
00:01:22,559 --> 00:01:24,867
11. setText(findTestObject("Object Repository/A_Version_Nawres/Page_Prendre_Mesure_Formulaire_1/input_Duree_ITF__Temporaire_Mois"), "14", STOP_ON_FAILURE)

120
00:01:24,871 --> 00:01:24,928
15. verifyElementText(findTestObject("Object Repository/A_Version_Nawres/Page_Prendre_Mesure_Formulaire_1/p_Message_Erreur_Duree_ITF_Mois"), "Le Mois est invalide", STOP_ON_FAILURE)

121
00:01:24,930 --> 00:01:27,213
19. setText(findTestObject("Object Repository/A_Version_Nawres/Page_Prendre_Mesure_Formulaire_1/input_Duree_ITF__Temporaire_Mois"), "10", STOP_ON_FAILURE)

122
00:01:27,216 --> 00:01:29,474
23. setText(findTestObject("Object Repository/A_Version_Nawres/Page_Prendre_Mesure_Formulaire_1/input_Duree_ITF__Temporaire_Annee"), "13", STOP_ON_FAILURE)

123
00:01:29,477 --> 00:01:29,520
27. verifyElementText(findTestObject("Object Repository/A_Version_Nawres/Page_Prendre_Mesure_Formulaire_1/p_Message_Erreur_Duree_ITF_Annee"), "La durée ne peut excéder 10 ans", STOP_ON_FAILURE)

124
00:01:29,522 --> 00:01:31,793
33. Renseigner les champs Durée de l'ITF

125
00:01:31,795 --> 00:01:34,121
37. setText(findTestObject("Object Repository/A_Version_Nawres/Page_Prendre_Mesure_Formulaire_1/input_Duree_ITF__Temporaire_Annee"), "10", STOP_ON_FAILURE)

126
00:01:34,124 --> 00:01:34,125
13. if (DureeITF == "Definitive")

127
00:01:34,128 --> 00:01:36,412
19. Renseigner les champs Date Executoire + Dtae Jugement

128
00:01:36,415 --> 00:01:38,681
23. setText(findTestObject("Object Repository/A_Version_Nawres/Page_Prendre_Mesure_Formulaire_1/input_Date_Jugement_ITF"), DateActuelle, STOP_ON_FAILURE)

